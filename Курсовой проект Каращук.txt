Курсовой проект (Каращук А.Ф.)

1. Составить общее текстовое описание БД и решаемых ею задач;
    База данных «МКД» предназначена для хранения и обработки информации по многоквартирным домам (далее МКД) в разрезе описания характеристик дома в целом, а также описание подъездов, квартир, лифтов. Кроме того, ведется учет по организациям, управляющих домом ( в том числе ведения реестра лицензий по Управляющим компаниям), а также по организациям, которые предоставляют жилищно-коммунальные услуги (ЖКУ). 
    База данных представляет собой: 
		• реестр МКД, 
		• реестр юридических лиц, 
		• реестр лицензий,
		• ведение данных по МКД, включая
			o характеристики МКД
			o описание квартир
			o описание подъездов
			o описание лифтов
		• отслеживание того, какая организация и какого типа управляет домом,
		• отслеживание договоров по ЖКУ, которые предоставляют организации конкретным МКД.

2. минимальное количество таблиц - 10;
	таблицы:
		  1. houses.  в данной таблице перечисляются МКД, с указанием адресов, как полностью, так и в разбивке по ОКТМО, а также метка о том активный ли дом на данный момент. В рамках денормализации добавлена ссылка на Организацию управляющую домом (ОУД), так как информация по ОУД заносится и в таблицу services с услугой Управление. Это необходимо так в рамках текущей работы постоянно требуется отслеживать связку ОУД и МКД.
		  2. Companies. Представляет собой справочник юридических лиц с набором основных атрибутов (название, ИНН, ОГРН и т.п). В рамках денормализации добавлена колонка с подсчетом сколько домов находится в управлении в данной компании. Расчёт производится процедурой.
		  3. Comp_details. Здесь хранятся прочие атрибуты ЮЛ, которые требуются не часто.
		  4. Service_types. Справочник услуг
		  5. Services. Таблица где хранятся данные о предоставляемых услугах с реквизитами договоров.
		  6. Entrances. Подъезды.
		  7. Elevators. Описание лифтов.
		  8. Elevator_types. Типы лифтов
		  9. Quarters. Описание квартир
		  10. Licence. Реестр лицензий, в котором указан номер лицензии на какую организацию выдана и с какого времени действует.
		  11. Indicators. Перечень показателей данных МКД, по которым собирается информация по МКД.
		  12. Hdata. Таблица с данными по МКД. 



3. скрипты создания структуры БД (с первичными ключами, индексами, внешними ключами);
	скрипт создания БД в файле project_mkd.sql,
	скрипт по созданию внешних ключей и индексов в файле fk_idx.

4. создать ERDiagram для БД;
	ERdiagram в файле Er_diagram_mkd.png

5. скрипты наполнения БД данными;
	Процесс наполнения данный был в несколько этапов. Часть заливал из текстовых файлов (и довольно больших), часть из отчетов, часть из Exscell, потом чистил данные, потому что многие были не согласованы ( по номерам подъездов так и не успел почистить, поэтому и внешних ключей по номерам подъездов не делал). Поэтому весь объем данных размещать нет смысла. 
	Часть кода, как я уже заливал из промежуточных таблиц, куда вливал все текстовые файлы, находятся в файле for_data.sql.
	А полный дамп базы в файле dump_mkd.sql.

6. скрипты характерных выборок (включающие группировки, JOIN'ы, вложенные таблицы);
	в файле scripts.sql
7. представления (минимум 2);
	в файле scripts.sql
8. хранимые процедуры / триггеры;
	в файле scripts.sql

